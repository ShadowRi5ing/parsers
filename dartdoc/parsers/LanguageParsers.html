        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>LanguageParsers class / parsers Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="parsers" data-type="LanguageParsers">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../parsers.html">parsers</a> &rsaquo; <a href="../parsers/LanguageParsers.html">LanguageParsers</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>LanguageParsers</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>Programming language specific combinators</p>
<pre class="source">
class LanguageParsers {
 String _commentStart;
 String _commentEnd;
 String _commentLine;
 bool _nestedComments;
 Parser&lt;String&gt; _identStart;
 Parser&lt;String&gt; _identLetter;
 Set&lt;String&gt; _reservedNames;
 bool _caseSensitive;

 ReservedNames _reserved;

 LanguageParsers({
   String         commentStart   : '/*',
   String         commentEnd     : '*/',
   String         commentLine    : '//',
   bool           nestedComments : false,
   Parser&lt;String&gt; identStart     : null, // letter | char('_')
   Parser&lt;String&gt; identLetter    : null, // alphanum | char('_')
   List&lt;String&gt;   reservedNames  : const []
 }) {
   final identStartDefault = letter | char('_');
   final identLetterDefault = alphanum | char('_');

   _commentStart = commentStart;
   _commentEnd = commentEnd;
   _commentLine = commentLine;
   _nestedComments = nestedComments;
   _identStart = (identStart == null) ? identStartDefault : identStart;
   _identLetter = (identLetter == null) ? identLetterDefault : identLetter;
   _reservedNames = new Set&lt;String&gt;.from(reservedNames);
 }

 Parser&lt;String&gt; get semi  =&gt; symbol(';') % 'semicolon';
 Parser&lt;String&gt; get comma =&gt; symbol(',') % 'comma';
 Parser&lt;String&gt; get colon =&gt; symbol(':') % 'colon';
 Parser&lt;String&gt; get dot   =&gt; symbol('.') % 'dot';

 Parser&lt;String&gt; get _ident =&gt;
     success((c) =&gt; (cs) =&gt; _consStr(c)(cs.join()))
     * _identStart
     * _identLetter.many;

 Parser&lt;String&gt; get identifier =&gt;
     lexeme(_ident &gt;&gt; (name) =&gt;
            _reservedNames.contains(name) ? fail : success(name))
     % 'identifier';

 ReservedNames get reserved {
   if (_reserved == null) {
     final map = new Map&lt;String, Parser&lt;String&gt;&gt;();
     for (final name in _reservedNames) {
       map[name] = lexeme(string(name).notFollowedBy(_identLetter));
     }
     _reserved = new ReservedNames._(map);
   }
   return _reserved;
 }

 final Parser&lt;String&gt; _escapeCode =
     (char('a')  &gt; success('\a'))
   | (char('b')  &gt; success('\b'))
   | (char('f')  &gt; success('\f'))
   | (char('n')  &gt; success('\n'))
   | (char('r')  &gt; success('\r'))
   | (char('t')  &gt; success('\t'))
   | (char('v')  &gt; success('\v'))
   | (char('\\') &gt; success('\\'))
   | (char('"')  &gt; success('"'))
   | (char("'")  &gt; success("'"));

 Parser&lt;String&gt; get _charChar =&gt; (char('\\') &gt; _escapeCode)
                               | pred((c) =&gt; c != "'");

 Parser&lt;String&gt; get charLiteral =&gt;
     lexeme(_charChar.between(char("'"), char("'")))
     % 'character literal';

 Parser&lt;String&gt; get _stringChar =&gt; (char('\\') &gt; _escapeCode)
                                 | pred((c) =&gt; c != '"');

 Parser&lt;String&gt; get stringLiteral =&gt;
     lexeme(_stringChar.many.between(char('"'), char('"')))
     .map((cs) =&gt; cs.join())
     % 'string literal';

 Map&lt;String, int&gt; _digitToInt = {
   '0': 0, '1': 1, '2': 2, '3': 3, '4': 4, '5': 5, '6': 6, '7': 7, '8': 8,
   '9': 9, 'a': 10, 'b': 11, 'c': 12, 'd': 13, 'e': 14, 'f': 15, 'A': 10,
   'B': 11, 'C': 12, 'D': 13, 'E': 14, 'F': 15
 };

 Parser&lt;int&gt; _number(int base, Parser baseDigit) =&gt; baseDigit.many1 &gt;&gt; (ds) {
   int res = 0;
   for (final d in ds) { res = base * res + _digitToInt[d]; }
   return success(res);
 };

 Parser&lt;int&gt; get _zeroNumber =&gt;
     char('0') &gt; (hexaDecimal | octal | decimal | success(0));

 Parser&lt;int&gt; get _nat =&gt; _zeroNumber | decimal;

 Parser&lt;int&gt; get _int =&gt; lexeme(_sign) * _nat;

 Parser&lt;Function&gt; get _sign =&gt; (char('-') &gt; success((n) =&gt; -n))
                             | (char('+') &gt; success((n) =&gt; n))
                             | success((n) =&gt; n);

 Parser&lt;int&gt; get natural =&gt; lexeme(_nat) % 'natural number';

 Parser&lt;int&gt; get intLiteral =&gt; lexeme(_int) % 'integer';

 num _power(num e) =&gt; e &lt; 0 ? 1.0 / _power(-e) : pow(10, e);

 Parser&lt;double&gt; get _exponent =&gt;
     oneOf('eE') &gt; success((f) =&gt; (e) =&gt; _power(f(e))) * _sign * decimal;

 Parser&lt;double&gt; get _fraction =&gt; char('.') &gt; digit.many1 &gt;&gt; (ds) {
   double res = 0.0;
   for (int i = ds.length - 1; i &gt;= 0; i--) {
     res = (res + _digitToInt[ds[i]]) / 10.0;
   }
   return success(res);
 };

 Parser&lt;double&gt; _fractExponent(int n) =&gt;
     (success((fract) =&gt; (expo) =&gt; (n + fract) * expo)
         * _fraction
         * _exponent.orElse(1.0))
     | _exponent.map((expo) =&gt; n * expo);

 Parser&lt;double&gt; get floatLiteral =&gt;
     lexeme(decimal &gt;&gt; _fractExponent) % 'float';

 Parser&lt;int&gt; get decimal =&gt; _number(10, digit) % 'decimal number';

 Parser&lt;int&gt; get hexaDecimal =&gt;
     (oneOf("xX") &gt; _number(16, oneOf("0123456789abcdefABCDEF")))
     % 'hexadecimal number';

 Parser&lt;int&gt; get octal =&gt;
     (oneOf("oO") &gt; _number(8, oneOf("01234567")))
     % 'octal number';

 Parser&lt;String&gt; symbol(String symb) =&gt; lexeme(string(symb));

 Parser lexeme(Parser p) =&gt; p &lt; whiteSpace;

 Parser get _start =&gt; string(_commentStart);
 Parser get _end =&gt; string(_commentEnd);
 Parser get _notStartNorEnd =&gt; (_start | _end).notAhead &gt; anyChar;

 Parser _multiLineComment() =&gt; _start &gt; _inComment();

 Parser _inComment() =&gt;
     _nestedComments ? _inCommentMulti() : _inCommentSingle();

 Parser _inCommentMulti() =&gt; _notStartNorEnd.skipMany &gt; _recOrEnd();

 Parser _recOrEnd() =&gt; (rec(_multiLineComment) &gt; rec(_inCommentMulti))
                     | (_end &gt; success(null));

 Parser _inCommentSingle() =&gt; anyChar.skipManyUntil(_end);

 Parser get _oneLineComment =&gt;
     string(_commentLine) &gt; (pred((c) =&gt; c != '\n').skipMany &gt; success(null));

 Parser get whiteSpace =&gt; _whiteSpace % 'whitespace/comment';

 Parser get _whiteSpace {
   if (_commentLine.isEmpty &amp;&amp; _commentStart.isEmpty) {
     return space.skipMany;
   } else if (_commentLine.isEmpty) {
     return (space | _multiLineComment()).skipMany;
   } else if (_commentStart.isEmpty) {
     return (space | _oneLineComment).skipMany;
   } else {
     return (space | _oneLineComment | _multiLineComment()).skipMany;
   }
 }

 Parser parens(Parser p) =&gt; p.between(symbol('('), symbol(')'));

 Parser braces(Parser p) =&gt; p.between(symbol('{'), symbol('}'));

 Parser angles(Parser p) =&gt; p.between(symbol('&lt;'), symbol('&gt;'));

 Parser brackets(Parser p) =&gt; p.between(symbol('['), symbol(']'));
}
</pre>
</div>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="">
<button class="show-code">Code</button>
new <strong>LanguageParsers</strong>({<a href="http://api.dartlang.org/dart_core/String.html">String</a> commentStart: '/*', <a href="http://api.dartlang.org/dart_core/String.html">String</a> commentEnd: '*/', <a href="http://api.dartlang.org/dart_core/String.html">String</a> commentLine: '//', <a href="http://api.dartlang.org/dart_core/bool.html">bool</a> nestedComments: false, <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt; identStart: null, <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt; identLetter: null, <a href="http://api.dartlang.org/dart_core/List.html">List</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt; reservedNames: const[] }) <a class="anchor-link" href="#"
              title="Permalink to LanguageParsers.LanguageParsers">#</a></h4>
<div class="doc">
<div class="inherited">
<p>Creates a new <a class="crossref" href="../dart_core/Object.html">Object</a> instance.</p>
<p><a class="crossref" href="../dart_core/Object.html">Object</a> instances have no meaningful state, and are only useful
through their identity. An <a class="crossref" href="../dart_core/Object.html">Object</a> instance is equal to itself
only.</p>
<div class="docs-inherited-from">docs inherited from <a href="http://api.dartlang.org/dart_core/Object.html">Object</a> </div></div>
<pre class="source">
LanguageParsers({
 String         commentStart   : '/*',
 String         commentEnd     : '*/',
 String         commentLine    : '//',
 bool           nestedComments : false,
 Parser&lt;String&gt; identStart     : null, // letter | char('_')
 Parser&lt;String&gt; identLetter    : null, // alphanum | char('_')
 List&lt;String&gt;   reservedNames  : const []
}) {
 final identStartDefault = letter | char('_');
 final identLetterDefault = alphanum | char('_');

 _commentStart = commentStart;
 _commentEnd = commentEnd;
 _commentLine = commentLine;
 _nestedComments = nestedComments;
 _identStart = (identStart == null) ? identStartDefault : identStart;
 _identLetter = (identLetter == null) ? identLetterDefault : identLetter;
 _reservedNames = new Set&lt;String&gt;.from(reservedNames);
}
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="charLiteral">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt;         <strong>charLiteral</strong> <a class="anchor-link"
            href="#charLiteral"
            title="Permalink to LanguageParsers.charLiteral">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;String&gt; get charLiteral =&gt;
   lexeme(_charChar.between(char("'"), char("'")))
   % 'character literal';
</pre>
</div>
</div>
<div class="field"><h4 id="colon">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt;         <strong>colon</strong> <a class="anchor-link"
            href="#colon"
            title="Permalink to LanguageParsers.colon">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;String&gt; get colon =&gt; symbol(':') % 'colon';
</pre>
</div>
</div>
<div class="field"><h4 id="comma">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt;         <strong>comma</strong> <a class="anchor-link"
            href="#comma"
            title="Permalink to LanguageParsers.comma">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;String&gt; get comma =&gt; symbol(',') % 'comma';
</pre>
</div>
</div>
<div class="field"><h4 id="decimal">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/int.html">int</a>&gt;         <strong>decimal</strong> <a class="anchor-link"
            href="#decimal"
            title="Permalink to LanguageParsers.decimal">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;int&gt; get decimal =&gt; _number(10, digit) % 'decimal number';
</pre>
</div>
</div>
<div class="field"><h4 id="dot">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt;         <strong>dot</strong> <a class="anchor-link"
            href="#dot"
            title="Permalink to LanguageParsers.dot">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;String&gt; get dot   =&gt; symbol('.') % 'dot';
</pre>
</div>
</div>
<div class="field"><h4 id="floatLiteral">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/double.html">double</a>&gt;         <strong>floatLiteral</strong> <a class="anchor-link"
            href="#floatLiteral"
            title="Permalink to LanguageParsers.floatLiteral">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;double&gt; get floatLiteral =&gt;
   lexeme(decimal &gt;&gt; _fractExponent) % 'float';
</pre>
</div>
</div>
<div class="field"><h4 id="hexaDecimal">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/int.html">int</a>&gt;         <strong>hexaDecimal</strong> <a class="anchor-link"
            href="#hexaDecimal"
            title="Permalink to LanguageParsers.hexaDecimal">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;int&gt; get hexaDecimal =&gt;
   (oneOf("xX") &gt; _number(16, oneOf("0123456789abcdefABCDEF")))
   % 'hexadecimal number';
</pre>
</div>
</div>
<div class="field"><h4 id="identifier">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt;         <strong>identifier</strong> <a class="anchor-link"
            href="#identifier"
            title="Permalink to LanguageParsers.identifier">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;String&gt; get identifier =&gt;
   lexeme(_ident &gt;&gt; (name) =&gt;
          _reservedNames.contains(name) ? fail : success(name))
   % 'identifier';
</pre>
</div>
</div>
<div class="field"><h4 id="intLiteral">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/int.html">int</a>&gt;         <strong>intLiteral</strong> <a class="anchor-link"
            href="#intLiteral"
            title="Permalink to LanguageParsers.intLiteral">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;int&gt; get intLiteral =&gt; lexeme(_int) % 'integer';
</pre>
</div>
</div>
<div class="field"><h4 id="natural">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/int.html">int</a>&gt;         <strong>natural</strong> <a class="anchor-link"
            href="#natural"
            title="Permalink to LanguageParsers.natural">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;int&gt; get natural =&gt; lexeme(_nat) % 'natural number';
</pre>
</div>
</div>
<div class="field"><h4 id="octal">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/int.html">int</a>&gt;         <strong>octal</strong> <a class="anchor-link"
            href="#octal"
            title="Permalink to LanguageParsers.octal">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;int&gt; get octal =&gt;
   (oneOf("oO") &gt; _number(8, oneOf("01234567")))
   % 'octal number';
</pre>
</div>
</div>
<div class="field"><h4 id="reserved">
<button class="show-code">Code</button>
final <a href="../parsers/ReservedNames.html">ReservedNames</a>         <strong>reserved</strong> <a class="anchor-link"
            href="#reserved"
            title="Permalink to LanguageParsers.reserved">#</a>
        </h4>
        <div class="doc">
<pre class="source">
ReservedNames get reserved {
 if (_reserved == null) {
   final map = new Map&lt;String, Parser&lt;String&gt;&gt;();
   for (final name in _reservedNames) {
     map[name] = lexeme(string(name).notFollowedBy(_identLetter));
   }
   _reserved = new ReservedNames._(map);
 }
 return _reserved;
}
</pre>
</div>
</div>
<div class="field"><h4 id="semi">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt;         <strong>semi</strong> <a class="anchor-link"
            href="#semi"
            title="Permalink to LanguageParsers.semi">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;String&gt; get semi  =&gt; symbol(';') % 'semicolon';
</pre>
</div>
</div>
<div class="field"><h4 id="stringLiteral">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt;         <strong>stringLiteral</strong> <a class="anchor-link"
            href="#stringLiteral"
            title="Permalink to LanguageParsers.stringLiteral">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser&lt;String&gt; get stringLiteral =&gt;
   lexeme(_stringChar.many.between(char('"'), char('"')))
   .map((cs) =&gt; cs.join())
   % 'string literal';
</pre>
</div>
</div>
<div class="field"><h4 id="whiteSpace">
<button class="show-code">Code</button>
final <a href="../parsers/Parser.html">Parser</a>         <strong>whiteSpace</strong> <a class="anchor-link"
            href="#whiteSpace"
            title="Permalink to LanguageParsers.whiteSpace">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Parser get whiteSpace =&gt; _whiteSpace % 'whitespace/comment';
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="angles">
<button class="show-code">Code</button>
<a href="../parsers/Parser.html">Parser</a> <strong>angles</strong>(<a href="../parsers/Parser.html">Parser</a> p) <a class="anchor-link" href="#angles"
              title="Permalink to LanguageParsers.angles">#</a></h4>
<div class="doc">
<pre class="source">
Parser angles(Parser p) =&gt; p.between(symbol('&lt;'), symbol('&gt;'));
</pre>
</div>
</div>
<div class="method"><h4 id="braces">
<button class="show-code">Code</button>
<a href="../parsers/Parser.html">Parser</a> <strong>braces</strong>(<a href="../parsers/Parser.html">Parser</a> p) <a class="anchor-link" href="#braces"
              title="Permalink to LanguageParsers.braces">#</a></h4>
<div class="doc">
<pre class="source">
Parser braces(Parser p) =&gt; p.between(symbol('{'), symbol('}'));
</pre>
</div>
</div>
<div class="method"><h4 id="brackets">
<button class="show-code">Code</button>
<a href="../parsers/Parser.html">Parser</a> <strong>brackets</strong>(<a href="../parsers/Parser.html">Parser</a> p) <a class="anchor-link" href="#brackets"
              title="Permalink to LanguageParsers.brackets">#</a></h4>
<div class="doc">
<pre class="source">
Parser brackets(Parser p) =&gt; p.between(symbol('['), symbol(']'));
</pre>
</div>
</div>
<div class="method"><h4 id="lexeme">
<button class="show-code">Code</button>
<a href="../parsers/Parser.html">Parser</a> <strong>lexeme</strong>(<a href="../parsers/Parser.html">Parser</a> p) <a class="anchor-link" href="#lexeme"
              title="Permalink to LanguageParsers.lexeme">#</a></h4>
<div class="doc">
<pre class="source">
Parser lexeme(Parser p) =&gt; p &lt; whiteSpace;
</pre>
</div>
</div>
<div class="method"><h4 id="parens">
<button class="show-code">Code</button>
<a href="../parsers/Parser.html">Parser</a> <strong>parens</strong>(<a href="../parsers/Parser.html">Parser</a> p) <a class="anchor-link" href="#parens"
              title="Permalink to LanguageParsers.parens">#</a></h4>
<div class="doc">
<pre class="source">
Parser parens(Parser p) =&gt; p.between(symbol('('), symbol(')'));
</pre>
</div>
</div>
<div class="method"><h4 id="symbol">
<button class="show-code">Code</button>
<a href="../parsers/Parser.html">Parser</a>&lt;<a href="http://api.dartlang.org/dart_core/String.html">String</a>&gt; <strong>symbol</strong>(<a href="http://api.dartlang.org/dart_core/String.html">String</a> symb) <a class="anchor-link" href="#symbol"
              title="Permalink to LanguageParsers.symbol">#</a></h4>
<div class="doc">
<pre class="source">
Parser&lt;String&gt; symbol(String symb) =&gt; lexeme(string(symb));
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-10-03 00:45:51.230</div>
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
